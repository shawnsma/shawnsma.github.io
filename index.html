<!DOCTYPE html>
<html lang="en">
  <head>
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-X29RPWPLBF"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-X29RPWPLBF");
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shawn Ma Personal Website</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <script
      type="module"
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
    ></script>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="custom-cursor"></div>
    <header>
      <div class="container">
        <div class="hero">
          <h1>Shawn Ma</h1>
          <p class="subtitle">Duke CS '26, AI & ML Concentration</p>
          <p class="about-me-text">
            AI engineer with experience leading projects in early-stage startups
            and large organizations. At World Salon and InfiniteUp, built
            production-ready ML systems, cloud infrastructure, and
            customer-facing tools that supported funding rounds and client
            adoption. At Link Logistics, scaled geospatial analytics to evaluate
            properties and fine-tuned models to extract zoning insights.
          </p>
          <p class="about-me-text small-note">
            Ex-KPMG consulting intern conducting predictive analytics<br />
            TA for Computer Security, Database Systems, Computer Architecture,
            and Discrete Math
          </p>

          <div class="links">
            <a href="https://www.linkedin.com/in/shawnsma/" class="link-button">
              <i class="fab fa-linkedin"></i>
              LinkedIn
            </a>
            <a href="https://github.com/shawnshep" class="link-button">
              <i class="fab fa-github"></i>
              GitHub
            </a>
            <a href="mailto:shawn.ma@duke.edu" class="link-button">
              <i class="fas fa-envelope"></i>
              Connect
            </a>
          </div>
        </div>
      </div>
    </header>

    <section>
      <div class="container">
        <h2 class="section-title">Computer Science</h2>
        <div class="two-column-section">
          <div class="column">
            <div class="card-section">
              <h3>Languages</h3>
              <div class="languages-grid">
                <div class="language-item">
                  <i class="fab fa-python language-icon"></i>
                  <span class="language-name">Python</span>
                </div>
                <div class="language-item">
                  <i class="fab fa-java language-icon"></i>
                  <span class="language-name">Java</span>
                </div>
                <div class="language-item">
                  <i class="fas fa-c language-icon"></i>
                  <span class="language-name">C/C++</span>
                </div>
                <div class="language-item">
                  <i class="fab fa-html5 language-icon"></i>
                  <span class="language-name">HTML</span>
                </div>
                <div class="language-item">
                  <i class="fab fa-css3-alt language-icon"></i>
                  <span class="language-name">CSS</span>
                </div>
                <div class="language-item">
                  <i class="fab fa-js language-icon"></i>
                  <span class="language-name">JavaScript</span>
                </div>
                <div class="language-item">
                  <i class="fas fa-database language-icon"></i>
                  <span class="language-name">SQL</span>
                </div>
                <div class="language-item">
                  <i class="fas fa-r language-icon"></i>
                  <span class="language-name">R</span>
                </div>
                <div class="language-item">
                  <i class="fab fa-swift language-icon"></i>
                  <span class="language-name">Swift</span>
                </div>
              </div>
            </div>
            <div class="card-section">
              <h3>Projects</h3>
              <div class="projects-list">
                <a
                  href="https://github.com/shawnsma/Linkedin_Scraper"
                  class="project-card"
                >
                  <h3>LinkedIn Scraper</h3>
                  <p>
                    Scrapes profiles in bulk using Selenium and BeautifulSoup
                  </p>
                </a>
                <a
                  href="https://github.com/shawnsma/Blockchain"
                  class="project-card"
                >
                  <h3>Automated Market Maker</h3>
                  <p>Enables decentralized trading on Solana using Solidity</p>
                </a>
                <a
                  href="https://github.com/shawnsma/Computer_Networks"
                  class="project-card"
                >
                  <h3>CDN Edge Server</h3>
                  <p>Caches and delivers web content using Python</p>
                </a>
              </div>
            </div>
          </div>
          <div class="column">
            <div class="card-section">
              <h3>Courses</h3>
              <div class="courses-list">
                <div class="course-item">
                  <div class="course-name">
                    Machine Learning (Graduate level)
                  </div>
                  <div class="course-prof">Prof. Cynthia Rudin</div>
                </div>
                <div class="course-item">
                  <div class="course-name">Language Based Security</div>
                  <div class="course-prof">Prof. Danfeng Zhang</div>
                </div>
                <div class="course-item">
                  <div class="course-name">
                    Computer Vision (Graduate level)
                  </div>
                  <div class="course-prof">Prof. Carlo Tomasi</div>
                </div>
                <div class="course-item">
                  <div class="course-name">Natural Language Processing</div>
                  <div class="course-prof">Prof. Mary Osborne</div>
                </div>
                <div class="course-item">
                  <div class="course-name">Artificial Intelligence</div>
                  <div class="course-prof">Prof. Tananun Songdechakraiwut</div>
                </div>
                <div class="course-item">
                  <div class="course-name">Computer Network Architecture</div>
                  <div class="course-prof">Prof. Bruce Maggs</div>
                </div>
                <div class="course-item">
                  <div class="course-name">Blockchain</div>
                  <div class="course-prof">Prof. Kartik Nayak</div>
                </div>
                <div class="course-item">
                  <div class="course-name">Computer Security</div>
                  <div class="course-prof">Prof. Michael Reiter</div>
                </div>
                <div class="course-item">
                  <div class="course-name">
                    Design and Analysis of Algorithms
                  </div>
                  <div class="course-prof">Prof. Kamesh Munagala</div>
                </div>
                <div class="course-item">
                  <div class="course-name">Database Systems</div>
                  <div class="course-prof">Prof. Sudeepa Roy</div>
                </div>
                <div class="course-item">
                  <div class="course-name">Computer Architecture</div>
                  <div class="course-prof">Prof. Daniel Sorin</div>
                </div>
                <div class="course-item">
                  <div class="course-name">Discrete Math</div>
                  <div class="course-prof">Prof. Kate O'Hanlon</div>
                </div>
                <div class="course-item">
                  <div class="course-name">Data Structures and Algorithms</div>
                  <div class="course-prof">Prof. Owen Astrachan</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section>
      <div class="container">
        <h2 class="section-title">Not Computer Science</h2>
        <div class="two-column-section">
          <div class="column">
            <div class="card-section">
              <h3 style="text-align: center">Writing Samples</h3>
              <div class="projects-list">
                <a href="paper.pdf" class="project-card">
                  <h3>Academic Paper</h3>
                  <p>
                    Chiho Aoshima and The Kaikai Kiki Collectiveâ€™s Soft
                    Rebellion
                  </p>
                </a>
                <a href="poetry.pdf" class="project-card">
                  <h3>Poetry</h3>
                  <p>Acorn Leaves</p>
                </a>
              </div>
            </div>

            <div class="card-section">
              <h3 style="text-align: center">Interests</h3>
              <ul class="interests-list">
                <li>
                  Royal Yachting Association certified assistant sailing coach
                </li>
                <li>
                  China Calligraphers Association certified level 9 calligrapher
                </li>
                <li>Espresso & cold brew, boardgames, Japanese literature</li>
              </ul>
            </div>
          </div>

          <div class="column">
            <div class="card-section" style="height: 100%">
              <h3 style="text-align: center">Brewery Recs</h3>
              <div
                id="brewery-paywall"
                style="display: none; text-align: center; padding: 12px"
              >
                Brewery map is not available on your plan.
              </div>
              <div id="beer-map"></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const cursor = document.getElementById("custom-cursor");

        let mouseX = 0,
          mouseY = 0;
        let posX = 0,
          posY = 0;
        let clickTimeout;

        document.addEventListener("mousemove", (e) => {
          mouseX = e.clientX;
          mouseY = e.clientY;
        });

        function animate() {
          posX += (mouseX - posX) * 0.3;
          posY += (mouseY - posY) * 0.3;
          cursor.style.setProperty(
            "--cursor-transform",
            `translate(${posX}px, ${posY}px)`
          );
          requestAnimationFrame(animate);
        }

        animate();
        document.addEventListener("mousedown", () => {
          cursor.classList.add("holding");
        });

        document.addEventListener("mouseup", () => {
          cursor.classList.remove("holding");
        });
      });
    </script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />

    <script>
      const BACKEND = "";
      const CUSTOMER_ID = "customer-123";
      const CUSTOMER_EMAIL = "shawn.ma@duke.edu";

      async function j(url, opts) {
        const r = await fetch(url, {
          headers: { "Content-Type": "application/json" },
          ...opts,
        }); // set headers
        if (!r.ok) throw new Error(await r.text());
        return r.json();
      }

      async function ensureCustomer() {
        await j(`${BACKEND}/api/stigg/customer`, {
          method: "POST",
          body: JSON.stringify({
            customerId: CUSTOMER_ID,
            email: CUSTOMER_EMAIL,
          }),
        });
      }

      async function getEntitlements() {
        return j(
          `${BACKEND}/api/stigg/entitlements?customerId=${encodeURIComponent(
            CUSTOMER_ID
          )}`
        );
      }

      async function reportMapLoad() {
        return j(`${BACKEND}/api/stigg/usage/map-load`, {
          method: "POST",
          body: JSON.stringify({ customerId: CUSTOMER_ID }),
        });
      }

      async function reportMarkerClick() {
        return j(`${BACKEND}/api/stigg/usage/marker-click`, {
          method: "POST",
          body: JSON.stringify({ customerId: CUSTOMER_ID }),
        });
      }

      (async () => {
        // runs immediately
        try {
          await ensureCustomer(); // ensure customer + free plan
          await reportMapLoad();
          const raw = await getEntitlements();
          const ents = raw.cachedEntitlements || []; // array form of entitlements
          const byId = (id) => ents.find((r) => r?.feature?.refId === id) || {}; // ent by id
          const limitOf = (id) => {
            const r = byId(id);
            return r?.hasUnlimitedUsage ? null : r?.usageLimit ?? null;
          }; // limit or unlimited by id
          const usageOf = (id) => Number(byId(id)?.currentUsage ?? 0); // usage by id

          const BOOL_ID = "brewery_map_enabled";
          const CFG_ID = "brewery_max_results_v2";
          const USE_ID = "brewery_map_loads";
          // clicks are only reported and not restricted

          const hasMap = Boolean(byId(BOOL_ID));
          if (!hasMap) {
            document.getElementById("brewery-paywall").style.display = "block";
            document.getElementById("beer-map").style.display = "none";
            return;
          } // gate 1, access boolean

          const maxResults = Number(limitOf(CFG_ID) ?? 10); // default to 10

          const currentLoads = usageOf(USE_ID);
          const limitLoads = limitOf(USE_ID); // null => unlimited
          if (limitLoads !== null && currentLoads >= limitLoads) {
            const pw = document.getElementById("brewery-paywall");
            pw.textContent = "Map loads limit reached on your plan.";
            pw.style.display = "block";
            document.getElementById("beer-map").style.display = "none";
            return;
          } // gate 2, map usage meter, compare to limit

          async function reportMapLoad() {
            return j(`${BACKEND}/api/stigg/usage/map-load`, {
              method: "POST",
              body: JSON.stringify({ customerId: CUSTOMER_ID }),
            });
          }

          const map = L.map("beer-map").setView([42.0, -73.5], 6);
          L.tileLayer(
            "https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",
            {
              attribution: "&copy; OpenStreetMap & CARTO",
              subdomains: "abcd",
              maxZoom: 15,
            }
          ).addTo(map); // render map if gates passed

          const res = await fetch(
            "https://personal-website-bhql.onrender.com/api/breweries"
          );
          const breweries = await res.json();
          breweries.slice(0, maxResults).forEach(({ name, lat, lng }) => {
            const icon = L.divIcon({
              html: `<ion-icon name="beer-outline" style="font-size: 24px; color: #333;"></ion-icon>`,
              className: "beer-icon",
              iconSize: [24, 24],
              iconAnchor: [12, 12],
              popupAnchor: [0, -10],
            });
            const marker = L.marker([lat, lng], { icon }).addTo(map);
            marker.on("click", async () => {
              await reportMarkerClick();
              marker.bindPopup(`<b>${name}</b>`).openPopup();
            });
          });
        } catch (err) {
          console.error("Init failed:", err);
          const pw = document.getElementById("brewery-paywall");
          pw.textContent =
            "Error contacting backend. Check API key and planId.";
          pw.style.display = "block";
          document.getElementById("beer-map").style.display = "none";
        }
      })();
    </script>
  </body>
</html>
